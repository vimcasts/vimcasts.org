

<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Accessing the system clipboard from Vim</title>

    
        <meta name="st:robots" content="follow, index">

    

    <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="episodes episodes_accessing-the-system-clipboard-from-vim episodes_accessing-the-system-clipboard-from-vim_index" data-swiftype-index='false'>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="top-bar-underlay"></div>

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name">
              <h1><a href="/">Vimcasts</a></h1>
            </li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">
            <!-- Right Nav Section -->
            <ul class="right">
              <li class="has-form">
              <div class="row collapse">
                <div class="large-8 small-9 columns">
                  <input type="text" placeholder="Explore archives">
                </div>
                <div class="large-4 small-3 columns">
                  <a href="#" class="alert button expand">Search</a>
                </div>
              </div>
              </li>
            </ul>

            <!-- Left Nav Section -->
            <ul class="left">
              <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>


            </ul>
          </section>
        </nav>
      </div>

      <nav class="tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="middle tab-bar-section"></section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>


          <li>
          <form>
            <label text="search">Search: <input type="search" disabled/></label>
          </form>
          </li>
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="text-right">
              Level-up your Vim<br/>
              <small>with Drew Neil, author of <a href="http://pragprog.com/book/dnvim/practical-vim">Practical&nbsp;Vim</a></small>
            </h4>
            
          </div>
        </div>

          <div class="row">
    <div class="small-12 columns">

      

<div class="row announcement-banner">
  <div class="small-12 column show-for-small-only">
    <div class="panel">
      <p>
I'll be teaching my Core Vim Class Online on March 5th.
</p>

      <a href="https://ti.to/studio-nelstrom/core-vim-class-online-4" class="button expand">Book now</a>

    </div>
  </div>

  <div class="panel show-for-medium-up clearfix">
    <div class="small-8 column">
      <p>
I'll be teaching my Core Vim Class Online on March 5th.
</p>

    </div>

    <div class="small-4 column">
      <a href="https://ti.to/studio-nelstrom/core-vim-class-online-4" class="button expand">Book now</a>

    </div>
  </div>

</div>



      <header>
        <h2>Accessing the system clipboard from Vim</h2>
        <div class="episode_number">
          <small>#</small>58
        </div>
        <time pubdate="pubdate" datetime="2013-11-11">
          Nov 11, 2013
        </time>
        <div class="video-duration">
          
          Run time: <time datetime="P4M,48S">
            4:48
          </time>
        </div>
        
          <div class="video-tags">
            Tagged with:
            <a href="/categories/registers">registers</a>, <a href="/categories/copy-and-paste">copy-and-paste</a>
          </div>
        
      </header>

      <div data-swiftype-index="true">
        <p>In some environments, Vim lets us access the system clipboard using the quoteplus register, <code>"+</code>. When this feature is enabled, we can use it with the delete, yank and put operations in much the same way that we use Vim's other registers. Pasting from this register usually produces better results than using the system paste command in Insert mode.</p>


      </div>

      <video poster="http://vimcasts.org/images/posters/clipboard-register.png"
        controls="controls" preload="none" class="placeholder"
        id="episode_58_placeholder">
        <source src="http://media.vimcasts.org/videos/58/clipboard-register.ogv" type="video/ogg" />
        <source src="http://media.vimcasts.org/videos/58/clipboard-register.m4v" type="video/x-m4v" />
      </video>

      <aside class="downloads">
        <ul class="inline-list">
          <li>Download: </li>

          <li class="ogg">
          <a href="http://media.vimcasts.org/videos/58/clipboard-register.ogv">OGG</a>
          <span class="stats">6.3 MB</span>
          </li>

          <li class="quicktime">
          <a href="http://media.vimcasts.org/videos/58/clipboard-register.m4v">Quicktime</a>
          <span class="stats">11.5 MB</span>
          </li>

      </ul>

        <p>
          View a <a href="/transcripts/58/en/">transcript of the video</a>.
        </p>
      </aside>

      <dl class="accordion" data-accordion>
        <dd>
        <a href="#shownotes">Shownotes</a>
        <div id="shownotes" class="content" data-swiftype-index="true">
          

<p>This is an abridged quote from Vim's documentation (see <a href="http://vimdoc.sourceforge.net/htmldoc/gui_x11.html#quoteplus"><code>:h quoteplus</code></a>):</p>

<blockquote>
  <p>CLIPBOARD is expected to be used for cut, copy and paste operations.
…
Vim uses CLIPBOARD when reading and writing the "+ register.  </p>
</blockquote>

<p>So long as your version of Vim has been compiled with support for the <code>+clipboard</code> feature, then you can use the <code>"+</code> register to access your system clipboard.</p>

<h3 id="using-the-quoteplus-register">Using the quoteplus register</h3>

<p>The <code>"+</code> register can be used much like any other register. For example, if you want to yank text from a Vim buffer into the system clipboard, you could use any of these commands:</p>

<table>
<tr>
<th>command</th>
<th>effect</th>
</tr>
<tr>
<td><code>{Visual}"+y</code></td>
<td>copy the selected text into the system clipboard</td>
</tr>
<tr>
<td><code>"+y{motion}</code></td>
<td>copy the text specified by <code>{motion}</code> into the system clipboard</td>
</tr>
<tr>
<td><code>:[range]yank&nbsp;+</code></td>
<td>copy the text specified by <code>[range]</code> into the system clipboard</td>
</tr>
</table>

<p>If you want to paste text from the system clipboard into your Vim buffer, you could use any of these commands:</p>

<table>
<tr>
<th>command</th>
<th>effect</th>
</tr>
<tr>
<td><code>"+p</code></td>
<td>Normal mode put command pastes system clipboard after cursor</td>
</tr>
<tr>
<td><code>:put +</code></td>
<td>Ex command puts contents of system clipboard on a new line</td>
</tr>
<tr>
<td><code>&lt;C-r&gt;+</code></td>
<td>From insert mode (or commandline mode)</td>
</tr>
</table>

<h3 id="the-p-command-produces-better-results-than-ctrl-v">The <code>"+p</code> command produces better results than <code>ctrl-v</code></h3>

<p>Using <code>ctrl-v</code> in Insert mode can produce strange artefacts, and for large sections of text it's also noticably slower than pasting from the quoteplus register.</p>

<p>If your clipboard contains a multi-line range of text, then the <code>ctrl-v</code> command can produce strange results in Insert mode. Vim receives a stream of characters and interprets them just as though they were typed manually. If the autoindent feature is enabled, the Vim automatically adds spaces at the start of each line. When combined with the indentation already present in the code snippet, the result is that each line drifts farther and farther to the right. By contrast, if you use paste from the quoteplus register (e.g. using <code>"+p</code> or <code>:put +</code>), you can avoid this problem.</p>

<p>For large sections of text, the quoteplus register is noticably quicker than using <code>ctrl-v</code> in Insert mode. As an experiment, try this: copy the <a href="http://www.gutenberg.org/cache/epub/2600/pg2600.txt">entire text of War and Peace</a> into your clipboard. Open a new instance of Vim, switch to insert mode, and press <code>ctrl-v</code> (or <code>cmd-v</code> if you're on a mac). Vim receives a stream of characters and inserts them into the document one by one. You might have to wait a while until you get control back! Now open another instance of Vim and run the command <code>:put +</code>. This time, the entire text should appear in your buffer instantly.</p>

<p>If you're running GVim (or MacVim), then you shouldn't experience any problems with the <code>ctrl-v</code> command. In the graphical environment, Vim can detect when a stream of input comes from the clipboard, and adjust its behavior accordingly. But when Vim runs inside the terminal, there's no way it can tell whether the text is being entered manually or pasted from the clipboard.</p>

<h3 id="whats-the-difference-between-clipboard-and-xtermclipboard-features">What's the difference between <code>'clipboard'</code> and <code>'xterm_clipboard'</code> features?</h3>

<p>The <code>+clipboard</code> feature gives us access to the system clipboard through the <code>"+</code> register. By "system clipboard", I mean the one that we usually access with the system-wide cut, copy, and paste operations.</p>

<p>When Vim runs inside of <a href="http://invisible-island.net/xterm/">xterm</a>, the <code>'+xterm_clipboard'</code> feature gives us access to <a href="https://wiki.archlinux.org/index.php/Xterm#Copy_and_paste">the <em>primary</em> selection</a> through the <code>"*</code> register. This feature permits the following workflow: visually select text in Vim, switch to another app and use the middle mouse button to paste the text you selected. I've never used this workflow and I don't find it appealing. One reason I use Vim is because I want to avoid using the mouse!</p>

<p>If your Vim was compiled with <code>+clipboard</code> and <code>-xterm_clipboard</code> (as my Vim is), then you can use <code>"+</code> and <code>"*</code> interchangeably; both will access the system clipboard.</p>

<h3 id="make-vim-use-the-system-clipboard-as-the-default-register">Make Vim use the system clipboard as the default register</h3>

<p>If you'd like to make it easier to interact with the system clipboard, try out this setting:</p>

<pre><code>set clipboard=unnamed
</code></pre>

<p>That tells Vim to use the <a href="http://vimdoc.sourceforge.net/htmldoc/gui.html#quotestar">quotestar register</a> for all yank, delete, change, and put operations that have no register explicitly specified. In effect, the system clipboard becomes the default register. Beware that with this setting, the <code>x</code> command will write a single character to the system clipboard, overwriting whatever was in there previously.</p>

<p>If your version of Vim supports both the <code>+clipboard</code> and <code>+xterm_clipboard</code> features, then you might prefer to use this setting instead:</p>

<pre><code>if has('unnamedplus')
  set clipboard=unnamed,unnamedplus
endif
</code></pre>

<p>Read <code>:h clipboard-unnamedplus</code> for more details.</p>

<h3 id="further-reading">Further reading</h3>

<ul>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/gui_x11.html#quoteplus"><code>:help quoteplus</code></a></li>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/gui.html#quotestar"><code>:help quotestar</code></a></li>
  <li><a title="clipboard" href="http://vimdoc.sourceforge.net/htmldoc/options.html#"><code>:help 'clipboard'</code></a></li>
  <li><a href="http://support.alfredapp.com/features:clipboard">Alfred's Clipboard history feature</a></li>
</ul>


        </div>
        </dd>
        <dd>
        <a href="#comments">Comments</a>
        <div id="comments" class="content">
          <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'vimcasts'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


        </div>
        </dd>
      </dl>

      <div>
        <p>
        Like this video? Spread the word!
        TODO: add social sharing buttons here.
        </p>
      </div>

      <div>
        <hr/>
        <h3>Related content</h3>
        <ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-3">
          <li>
          <h4><a href="/episodes/refining-search-patterns-with-the-command-line-window/">Refining search patterns with the command-line window</a></h4>
          <p>
          When you need to build a complex command, or devise a non-trivial search pattern, Vim’s command-line mode can be rather limiting. In this episode, I will introduce the command-line window, which allows you to use the full power of Vim when editing search queries and commands.
          </p>
          </li>
          <li>
          <h4><a href="/episodes/fugitive-vim-working-with-the-git-index/">Fugitive.vim - working with the git index</a></h4>
          <p>
          The fugitive plugin provides an interactive status window, where you can easily stage and review your changes for the next commit. The :Gdiff command visualizes the changes made to a file, by comparing the working copy with the index. In this episode, we’ll learn how to stage hunks of changes to the index without using the git add --patch command.
          </p>
          </li>
          <li>
          <h4><a href="/blog/2013/02/habit-breaking-habit-making/">Habit making, habit breaking</a></h4>
          <p>
          Moving your Vim cursor around using the arrow keys is a bad habit, and like many bad habits it’s a difficult one to break!
          </p>
          </li>
          <li>
          <h4><a href="/training">Vim Training</a></h4>
          <p>Boost your productivity with a <a href="/training">Vim training class</a>. Join a public class, or <a href="/training/private">book a private session</a> for your team.</p>
          </li>
          <li>
          <h4><a href="/publications">Publications</a></h4>
          <p>
          Make yourself a faster and more efficient developer with the help of <a href="/publications">these publications</a>.
          </p>
          </li>
          <li>
          <h4><a href="/categories">Find by category</a></h4>
          <p>
          Vimcasts contains
          65 free screencasts and
          45 articles.
          <a href="/categories">Browse all content by category</a>.
          </p>
          </li>
        </ul>
      </div>

      <div class="row footer">

  <hr/>

  <div class="small-6 columns">
    <ul class="inline-list">
      <li><a href="/about">About</a></li>
      <li><a href="/subscribe">Subscribe</a></li>
      <li><a href="/tipjar">Leave a tip</a></li>
    </ul>
  </div>

  <div class="small-6 columns">
    <p class="text-right">
    Vimcasts.org established MMX
    </p>
  </div>

</div>


    </div>
  </div>




      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>


    <script src="/javascripts/all.js" type="text/javascript"></script>
  </body>
</html>

